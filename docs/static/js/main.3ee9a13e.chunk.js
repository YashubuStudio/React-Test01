(this["webpackJsonpstore-management-app"]=this["webpackJsonpstore-management-app"]||[]).push([[0],{121:function(e,t,a){e.exports=a(139)},129:function(e,t,a){},139:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(99),c=a.n(l),o=(a(129),a(27)),m=a(8),i=a(207),s=a(208),u=a(209),E=a(210),h=a(201),d=a(193),p=a(198);const g=p.a.create({baseURL:"http://localhost:3001"});g.interceptors.request.use(e=>{const t=localStorage.getItem("authToken");return t&&(e.headers.Authorization="Bearer ".concat(t)),e});var v=g;const b=Object(n.createContext)(),f=e=>{let{children:t}=e;const[a,l]=Object(n.useState)(localStorage.getItem("authToken")),[c,o]=Object(n.useState)(null);Object(n.useEffect)(()=>{const e=localStorage.getItem("authToken");e&&(l(e),v.get("/api/user",{headers:{Authorization:"Bearer ".concat(e)}}).then(e=>{o(e.data)}).catch(e=>{console.error("Error fetching user:",e)}))},[]);return r.a.createElement(b.Provider,{value:{authToken:a,user:c,setAuthToken:l,setUser:o,login:async(e,t)=>{const a=await v.post("/api/login",{email:e,password:t});localStorage.setItem("authToken",a.data.token),l(a.data.token),o(a.data.user)},logout:()=>{localStorage.removeItem("authToken"),l(null),o(null)}}},t)};var y=()=>{const{user:e,logout:t}=Object(n.useContext)(b);return r.a.createElement(i.a,{position:"fixed"},r.a.createElement(s.a,{style:{justifyContent:"space-between"}},r.a.createElement(u.a,{edge:"start",color:"inherit","aria-label":"account",component:o.b,to:"/account-info",sx:{transform:"scale(2)"}},r.a.createElement(d.a,null)),r.a.createElement(E.a,{variant:"h6",style:{flexGrow:1,textAlign:"center"}},r.a.createElement(o.b,{to:"/",style:{color:"inherit",textDecoration:"none"}},"\u30ed\u30b4")),e?r.a.createElement(h.a,{color:"inherit",onClick:t},"\u30ed\u30b0\u30a2\u30a6\u30c8"):r.a.createElement(h.a,{color:"inherit",component:o.b,to:"/login"},"\u30ed\u30b0\u30a4\u30f3")))},x=a(203),j=a(211),w=a(212),O=a(101),k=a.n(O),S=a(102),C=a.n(S),T=a(103),I=a.n(T);var A=()=>{const[e,t]=Object(n.useState)(0),a=Object(m.o)(),l=Object(m.m)();Object(n.useEffect)(()=>{switch(l.pathname){case"/":t(0);break;case"/store-entry":t(1);break;case"/coupons":t(2)}},[l.pathname]);return r.a.createElement(x.a,{sx:{position:"fixed",bottom:0,left:0,right:0},elevation:3},r.a.createElement(j.a,{value:e,onChange:(e,n)=>{switch(t(n),n){case 0:a("/");break;case 1:a("/store-entry");break;case 2:a("/coupons")}},showLabels:!0},r.a.createElement(w.a,{label:"TOP",icon:r.a.createElement(k.a,null)}),r.a.createElement(w.a,{label:"\u5e97\u8217\u5165\u5e97",icon:r.a.createElement(C.a,null)}),r.a.createElement(w.a,{label:"\u30af\u30fc\u30dd\u30f3",icon:r.a.createElement(I.a,null)})))},B=a(213),W=a(204),L=a(214),_=a(215);var N=e=>{let{title:t,excerpt:a,image:n,url:l}=e;return r.a.createElement(B.a,{style:{maxWidth:345,margin:"20px"}},r.a.createElement(W.a,{href:l,target:"_blank",rel:"noopener",underline:"none"},r.a.createElement(L.a,{component:"img",height:"140",image:n,alt:t}),r.a.createElement(_.a,null,r.a.createElement(E.a,{gutterBottom:!0,variant:"h5",component:"div"},t),r.a.createElement(E.a,{variant:"body2",color:"textSecondary",component:"div"},r.a.createElement("span",{dangerouslySetInnerHTML:{__html:a}})))))},D=a(205);var q=()=>{const[e,t]=Object(n.useState)([]);return Object(n.useEffect)(()=>{p.a.get("https://hirosequality.com/wp-json/wp/v2/posts").then(e=>{t(e.data)}).catch(e=>{console.error("There was an error fetching the news!",e)})},[]),r.a.createElement("div",null,r.a.createElement("h1",null,"News"),r.a.createElement(D.a,{container:!0,spacing:3},e.slice(0,3).map(e=>r.a.createElement(D.a,{item:!0,key:e.id,xs:12,sm:6,md:4},r.a.createElement(N,{title:e.title.rendered,excerpt:e.excerpt.rendered,image:e.featured_media?"https://hirosequality.com/wp-json/wp/v2/media/".concat(e.featured_media):"https://via.placeholder.com/150",url:e.link})))))};var P=()=>{const[e,t]=Object(n.useState)([]);return Object(n.useEffect)(()=>{p.a.get("https://hidakado.com/wp-json/wp/v2/posts").then(e=>{t(e.data)}).catch(e=>{console.error("There was an error fetching the blogs!",e)})},[]),r.a.createElement("div",null,r.a.createElement("h1",null,"Blog"),r.a.createElement(D.a,{container:!0,spacing:3},e.slice(0,3).map(e=>r.a.createElement(D.a,{item:!0,key:e.id,xs:12,sm:6,md:4},r.a.createElement(N,{title:e.title.rendered,excerpt:e.excerpt.rendered,image:e.featured_media?"https://hidakado.com/wp-json/wp/v2/media/".concat(e.featured_media):"https://via.placeholder.com/150",url:e.link})))))},z=a(206);var F=()=>{const[e,t]=Object(n.useState)("");return r.a.createElement(z.a,{sx:{p:2}},r.a.createElement(h.a,{variant:"contained",color:"primary",onClick:()=>{v.get("/api/ping").then(e=>{t(e.data.message)}).catch(e=>{console.error("Error fetching ping:",e),t("Error connecting to server")})}},"Ping Server"),e&&r.a.createElement(E.a,{variant:"h6",sx:{mt:2}},e))};var M=()=>r.a.createElement("div",{className:"content"},r.a.createElement("h1",null,"TOP\u30da\u30fc\u30b8"),r.a.createElement("div",{className:"card"},r.a.createElement(q,null)),r.a.createElement("div",{className:"card"},r.a.createElement(P,null)),r.a.createElement("div",{className:"card"},r.a.createElement(F,null)),r.a.createElement("div",{className:"card"},"\u304a\u3059\u3059\u3081\u5546\u54c1"));var J=()=>r.a.createElement("div",null,r.a.createElement(q,null));var R=()=>r.a.createElement("div",null,r.a.createElement(P,null)),U=a(59);const Y=[{id:1,name:"\u4eee\u306e\u5e97\u8217\u540d1",address:"\u4f4f\u6240: hoge huga 1",image:"https://via.placeholder.com/100"},{id:2,name:"\u4eee\u306e\u5e97\u8217\u540d2",address:"\u4f4f\u6240: hoge huga 2",image:"https://via.placeholder.com/100"},{id:3,name:"\u4eee\u306e\u5e97\u8217\u540d3",address:"\u4f4f\u6240: hoge huga 3",image:"https://via.placeholder.com/100"}];var H=()=>{const[e,t]=Object(n.useState)([]),a=Object(m.o)();Object(n.useEffect)(()=>{(async()=>{try{const e=await p.a.get("https://example.com/api/stores");0===e.data.length?t(Y):t(e.data)}catch(e){console.error("Error fetching store data:",e),t(Y)}})()},[]);return r.a.createElement(D.a,{container:!0,spacing:2},e.map(e=>r.a.createElement(D.a,{item:!0,xs:12,key:e.id},r.a.createElement(B.a,{sx:{display:"flex",alignItems:"center"},onClick:()=>{return t=e.id,void a("/store-entry/qr-code/".concat(t));var t}},r.a.createElement(L.a,{component:"img",sx:{width:100,height:100},image:e.image||"https://via.placeholder.com/100",alt:e.name}),r.a.createElement(_.a,null,r.a.createElement(E.a,{variant:"h6"},e.name),r.a.createElement(E.a,{variant:"body2",color:"textSecondary"},e.address))))))};const G={width:"100%",height:"30vh"},K={lat:34.7691,lng:137.3914};var Q=()=>{const{isLoaded:e}=Object(U.c)({id:"google-map-script",googleMapsApiKey:"AIzaSyCMJe_tT7UTig9Jk0l3gYvWcn4Ljo5Y8SY"});return r.a.createElement(z.a,{sx:{height:"100vh",overflow:"hidden"}},r.a.createElement(x.a,{elevation:3,sx:{position:"fixed",top:64,width:"100%",zIndex:1}},e?r.a.createElement(U.a,{mapContainerStyle:G,center:K,zoom:14,options:{disableDefaultUI:!0,gestureHandling:!0}},r.a.createElement(U.b,{position:{lat:35.6895,lng:139.6917}}),r.a.createElement(U.b,{position:{lat:35.6897,lng:139.6921}}),r.a.createElement(U.b,{position:{lat:35.6899,lng:139.6923}})):r.a.createElement(E.a,{variant:"h5",align:"center"},"Loading Map...")),r.a.createElement(z.a,{sx:{mt:"30vh",height:"calc(100vh - 30vh - 64px)",overflowY:"auto"}},r.a.createElement(H,null)," "))};var V=()=>r.a.createElement("div",null,r.a.createElement("h1",null,"\u30af\u30fc\u30dd\u30f3\u30da\u30fc\u30b8"),r.a.createElement("p",null,"\u3053\u3053\u306b\u30af\u30fc\u30dd\u30f3\u60c5\u5831\u3092\u8868\u793a\u3057\u307e\u3059\u3002")),X=a(216),Z=a(197),$=a(202),ee=a(200);var te=()=>{const[e,t]=Object(n.useState)(""),[a,l]=Object(n.useState)(""),[c,o]=Object(n.useState)(""),[i,s]=Object(n.useState)(!1),[u,d]=Object(n.useState)(!1),[p,g]=Object(n.useState)(""),[b,f]=Object(n.useState)(""),y=Object(m.o)();return r.a.createElement(X.a,{maxWidth:"sm"},r.a.createElement(z.a,{sx:{mt:5}},r.a.createElement(E.a,{variant:"h5",gutterBottom:!0},"\u30e6\u30fc\u30b6\u30fc\u767b\u9332"),p&&r.a.createElement(E.a,{color:"error"},p),b&&r.a.createElement(E.a,{color:"success"},b),r.a.createElement("form",{onSubmit:async t=>{if(t.preventDefault(),i&&u)try{await v.post("/api/register",{email:e,password:a,name:c}),f("\u30e6\u30fc\u30b6\u30fc\u767b\u9332\u306b\u6210\u529f\u3057\u307e\u3057\u305f\u3002"),g(""),y("/login")}catch(p){console.error("Registration failed:",p),g("\u30e6\u30fc\u30b6\u30fc\u767b\u9332\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002"),f("")}else g("\u5229\u7528\u898f\u7d04\u3068\u30d7\u30e9\u30a4\u30d0\u30b7\u30fc\u30dd\u30ea\u30b7\u30fc\u306b\u540c\u610f\u3057\u3066\u304f\u3060\u3055\u3044\u3002")}},r.a.createElement(Z.a,{fullWidth:!0,margin:"normal",label:"\u540d\u524d",name:"name",type:"text",value:c,onChange:e=>o(e.target.value)}),r.a.createElement(Z.a,{fullWidth:!0,margin:"normal",label:"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9",name:"email",type:"email",value:e,onChange:e=>t(e.target.value)}),r.a.createElement(Z.a,{fullWidth:!0,margin:"normal",label:"\u30d1\u30b9\u30ef\u30fc\u30c9",name:"password",type:"password",value:a,onChange:e=>l(e.target.value)}),r.a.createElement($.a,{control:r.a.createElement(ee.a,{checked:i,onChange:e=>s(e.target.checked)}),label:r.a.createElement(E.a,null,r.a.createElement(W.a,{href:"https://www.googlesite.ykvario.com/%E5%88%A9%E7%94%A8%E8%A6%8F%E7%B4%84",target:"_blank",rel:"noopener"},"\u5229\u7528\u898f\u7d04"),"\u306b\u540c\u610f\u3057\u307e\u3059")}),r.a.createElement($.a,{control:r.a.createElement(ee.a,{checked:u,onChange:e=>d(e.target.checked)}),label:r.a.createElement(E.a,null,r.a.createElement(W.a,{href:"https://www.googlesite.ykvario.com/%E3%83%97%E3%83%A9%E3%82%A4%E3%83%90%E3%82%B7%E3%83%BC%E3%83%9D%E3%83%AA%E3%82%B7%E3%83%BC",target:"_blank",rel:"noopener"},"\u30d7\u30e9\u30a4\u30d0\u30b7\u30fc\u30dd\u30ea\u30b7\u30fc"),"\u306b\u540c\u610f\u3057\u307e\u3059")}),r.a.createElement(h.a,{variant:"contained",color:"primary",type:"submit",fullWidth:!0},"\u767b\u9332"))))};var ae=e=>{let{height:t}=e;return r.a.createElement("div",{style:{height:t}})};var ne=()=>{const[e,t]=Object(n.useState)(""),[a,l]=Object(n.useState)(""),[c,o]=Object(n.useState)(""),{login:i}=Object(n.useContext)(b),s=Object(m.o)();return r.a.createElement(X.a,{maxWidth:"sm"},r.a.createElement(z.a,{sx:{mt:5}},r.a.createElement(E.a,{variant:"h5",gutterBottom:!0},"\u30ed\u30b0\u30a4\u30f3"),c&&r.a.createElement(E.a,{color:"error"},c),r.a.createElement("form",{onSubmit:async t=>{t.preventDefault();try{await i(e,a),s("/account-info")}catch(c){console.error("Login failed:",c),o("\u30ed\u30b0\u30a4\u30f3\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u307e\u305f\u306f\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\u3002")}}},r.a.createElement(Z.a,{fullWidth:!0,margin:"normal",label:"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9",name:"email",type:"email",value:e,onChange:e=>t(e.target.value)}),r.a.createElement(Z.a,{fullWidth:!0,margin:"normal",label:"\u30d1\u30b9\u30ef\u30fc\u30c9",name:"password",type:"password",value:a,onChange:e=>l(e.target.value)}),r.a.createElement(h.a,{variant:"contained",color:"primary",type:"submit",fullWidth:!0},"\u30ed\u30b0\u30a4\u30f3"),r.a.createElement(ae,{height:"10px"}),r.a.createElement(h.a,{variant:"contained",color:"primary",onClick:()=>s("/register"),fullWidth:!0},"\u65b0\u898f\u767b\u9332"))))},re=a(196);var le=()=>{const{user:e,logout:t}=Object(n.useContext)(b),a=Object(m.o)(),[l,c]=Object(n.useState)(null);Object(n.useEffect)(()=>{if(!e)return void a("/login");(async()=>{try{const e=await v.get("/api/user");c(e.data)}catch(e){console.error("Error fetching user profile:",e)}})()},[e,a]);return l?r.a.createElement(X.a,{maxWidth:"sm"},r.a.createElement(B.a,null,r.a.createElement(_.a,null,r.a.createElement(E.a,{variant:"h5",component:"h2",gutterBottom:!0},"\u30a2\u30ab\u30a6\u30f3\u30c8\u60c5\u5831"),r.a.createElement(E.a,{variant:"body1",component:"p"},"\u304a\u5ba2\u69d8\u540d: ",l.name),r.a.createElement(E.a,{variant:"body1",component:"p"},"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9: ",l.email),r.a.createElement(E.a,{variant:"body1",component:"p"},"\u96fb\u8a71\u756a\u53f7: ",l.phone),r.a.createElement(h.a,{variant:"contained",color:"primary",onClick:()=>a("/account-settings")},"\u304a\u5ba2\u69d8\u60c5\u5831\u306e\u7de8\u96c6"),r.a.createElement(h.a,{variant:"contained",color:"secondary",onClick:()=>{t(),a("/login")},style:{marginLeft:"10px"}},"\u30ed\u30b0\u30a2\u30a6\u30c8")))):r.a.createElement("div",null,"Loading...")},ce=a(104);var oe=()=>{const{storeId:e}=Object(m.q)(),[t,a]=Object(n.useState)("");return Object(n.useEffect)(()=>{const e=()=>{const e=(new Date).toLocaleString();a(e)};e();const t=setInterval(e,1e3);return()=>clearInterval(t)},[]),r.a.createElement("div",{style:{textAlign:"center",marginTop:"50px"}},r.a.createElement("h1",null,"QR\u30b3\u30fc\u30c9"),r.a.createElement(ce.a,{value:"".concat(t," \u5e97\u8217\u958b\u9320 ").concat(e)}),r.a.createElement("p",null,t," \u5e97\u8217\u958b\u9320 ",e))};var me=()=>r.a.createElement(f,null,r.a.createElement(o.a,null,r.a.createElement(re.a,null),r.a.createElement("div",{className:"app-container"},r.a.createElement(y,null),r.a.createElement("div",{className:"content"},r.a.createElement(ae,{height:"64px"})," ",r.a.createElement(m.c,null,r.a.createElement(m.a,{path:"/",element:r.a.createElement(M,null)}),r.a.createElement(m.a,{path:"/news",element:r.a.createElement(J,null)}),r.a.createElement(m.a,{path:"/blog",element:r.a.createElement(R,null)}),r.a.createElement(m.a,{path:"/store-entry",element:r.a.createElement(Q,null)}),r.a.createElement(m.a,{path:"/coupons",element:r.a.createElement(V,null)})," ",r.a.createElement(m.a,{path:"/ping",element:r.a.createElement(F,null)}),r.a.createElement(m.a,{path:"/register",element:r.a.createElement(te,null)}),r.a.createElement(m.a,{path:"/login",element:r.a.createElement(ne,null)}),r.a.createElement(m.a,{path:"/account-info",element:r.a.createElement(le,null)}),r.a.createElement(m.a,{path:"/store-entry/qr-code/:storeId",element:r.a.createElement(oe,null)})),r.a.createElement(ae,{height:"56px"})," "),r.a.createElement(A,null))));var ie=e=>{e&&e instanceof Function&&a.e(3).then(a.bind(null,217)).then(t=>{let{getCLS:a,getFID:n,getFCP:r,getLCP:l,getTTFB:c}=t;a(e),n(e),r(e),l(e),c(e)})};c.a.createRoot(document.getElementById("root")).render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(me,null))),ie()}},[[121,1,2]]]);
//# sourceMappingURL=main.3ee9a13e.chunk.js.map